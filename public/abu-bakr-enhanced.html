<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Abu Bakr As-Siddiq - The Truthful</title>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #2C5F2D;
      --secondary-color: #97B270;
      --accent-color: #FFB067;
      --background-color: #FFF9E9;
      --text-color: #234638;
      --header-bg: #1F4037;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
      line-height: 1.8;
      font-family: 'Quicksand', sans-serif;
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCI+CiAgPHBhdGggZD0iTTI1LDAgTDUwLDI1IEwyNSw1MCBMMCwyNSBaIiBmaWxsPSJub25lIiBzdHJva2U9IiMyQzVGMkQiIHN0cm9rZS13aWR0aD0iMC41IiBvcGFjaXR5PSIwLjEiLz4KPC9zdmc+');
    }

    body[dir="rtl"] {
      font-family: 'Amiri', serif;
      direction: rtl;
      text-align: right;
    }

    header {
      background-color: var(--header-bg);
      background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCI+CiAgPHBhdGggZD0iTTEyLjUsMCBMMzcuNSwyNSBMMTIuNSw1MCBNMzcuNSwwIEw2Mi41LDI1IE0tMTIuNSwwIEwxMi41LDI1IiBzdHJva2U9IiNGRkZGRkYiIHN0cm9rZS13aWR0aD0iMC41IiBzdHJva2Utb3BhY2l0eT0iMC4xIiBmaWxsPSJub25lIi8+Cjwvc3ZnPg==');
      color: white;
      text-align: center;
      padding: 40px 20px;
      border-bottom: 5px solid var(--accent-color);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      position: relative;
    }

    header h1 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 15px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    header p {
      font-size: 1.4rem;
      opacity: 0.9;
    }

    .language-toggle {
      position: absolute;
      top: 20px;
      right: 20px;
      background-color: var(--accent-color);
      color: var(--header-bg);
      border: none;
      padding: 12px 20px;
      font-size: 1.1rem;
      font-weight: 600;
      border-radius: 25px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    body[dir="rtl"] .language-toggle {
      right: auto;
      left: 20px;
    }

    .language-toggle:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .container {
      max-width: 900px;
      margin: 40px auto;
      padding: 0 30px;
    }

    h2 {
      color: var(--primary-color);
      font-size: 2.5rem;
      margin: 30px 0;
      text-align: center;
      position: relative;
      padding-bottom: 15px;
    }

    h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 3px;
      background-color: var(--accent-color);
      border-radius: 2px;
    }

    h3 {
      color: var(--primary-color);
      font-size: 1.8rem;
      margin: 25px 0 15px;
      padding-left: 20px;
      border-left: 4px solid var(--accent-color);
    }

    body[dir="rtl"] h3 {
      padding-left: 0;
      padding-right: 20px;
      border-left: none;
      border-right: 4px solid var(--accent-color);
    }

    .container p {
      font-size: 1.2rem;
      margin-bottom: 20px;
      padding: 0 20px;
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    }

    #back-link {
      display: inline-block;
      text-decoration: none;
      color: var(--primary-color);
      font-weight: bold;
      font-size: 1.2rem;
      margin-top: 30px;
      padding: 12px 25px;
      border: 2px solid var(--primary-color);
      border-radius: 25px;
      transition: all 0.3s ease;
    }

    body[dir="ltr"] #back-link:hover {
      background-color: var(--primary-color);
      color: white;
      transform: translateX(-5px);
    }

    body[dir="rtl"] #back-link:hover {
      background-color: var(--primary-color);
      color: white;
      transform: translateX(5px);
    }

    /* Audio Player Styles */
    .audio-section {
      background: white;
      border-radius: 15px;
      padding: 30px;
      margin: 30px 0;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      border-left: 5px solid var(--accent-color);
    }

    .audio-section h3 {
      color: var(--primary-color);
      margin-bottom: 20px;
      text-align: center;
      font-size: 1.5rem;
    }

    .audio-players {
      display: grid;
      gap: 20px;
      margin-bottom: 20px;
    }

    .audio-player {
      background: var(--background-color);
      border-radius: 10px;
      padding: 20px;
      border: 2px solid var(--secondary-color);
    }

    .audio-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .audio-lang {
      font-weight: 600;
      color: var(--primary-color);
      font-size: 1.1rem;
    }

    .audio-duration {
      background: var(--accent-color);
      color: white;
      padding: 4px 12px;
      border-radius: 15px;
      font-size: 0.9rem;
      font-weight: 600;
    }

    .audio-controls {
      display: flex;
      align-items: center;
      gap: 15px;
      flex-wrap: wrap;
    }

    .play-btn {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 25px;
      cursor: pointer;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
      min-width: 100px;
    }

    .play-btn:hover {
      background: var(--secondary-color);
      transform: translateY(-2px);
    }

    .play-btn.playing {
      background: var(--accent-color);
    }

    .progress-container {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 200px;
    }

    .progress-bar {
      flex: 1;
      height: 6px;
      background: #ddd;
      border-radius: 3px;
      cursor: pointer;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      background: var(--accent-color);
      border-radius: 3px;
      width: 0%;
      transition: width 0.1s ease;
    }

    .time-display {
      font-size: 0.9rem;
      color: var(--text-color);
      min-width: 80px;
    }

    .download-btn {
      background: var(--secondary-color);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .download-btn:hover {
      background: var(--primary-color);
      transform: translateY(-1px);
    }

    .audio-note {
      text-align: center;
      font-style: italic;
      color: var(--secondary-color);
      margin-top: 15px;
      padding: 15px;
      background: rgba(151, 178, 112, 0.1);
      border-radius: 10px;
    }

    @media (max-width: 768px) {
      header h1 {
        font-size: 2.2rem;
      }

      header p {
        font-size: 1.1rem;
      }

      .container {
        padding: 0 20px;
      }

      h2 {
        font-size: 2rem;
      }

      h3 {
        font-size: 1.5rem;
      }

      p {
        font-size: 1.1rem;
        padding: 0 15px;
      }
    }
  </style>
</head>
<body dir="ltr">
  <header>
    <h1 id="title">Abu Bakr As-Siddiq</h1>
    <p id="subtitle">The Truthful - The First Caliph</p>
    <button class="language-toggle" onclick="toggleLanguage()">ÿπÿ±ÿ®Ÿä / EN</button>
  </header>

  <div class="container">
    <h2 id="section-title">The Life of Abu Bakr As-Siddiq</h2>
    
    <!-- Audio Player Section -->
    <div class="audio-section">
      <h3 id="audio-title">Listen to the Story</h3>
      <div class="audio-players">
        <div class="audio-player">
          <div class="audio-header">
            <span class="audio-lang">üéß English Narration</span>
            <span class="audio-duration">5:30</span>
          </div>
          <div class="audio-controls">
            <button class="play-btn" onclick="toggleAudio('english')" id="play-btn-en">
              <span class="play-icon">‚ñ∂Ô∏è</span>
              <span class="play-text">Play</span>
            </button>
            <div class="progress-container">
              <div class="progress-bar" id="progress-en">
                <div class="progress-fill"></div>
              </div>
              <span class="time-display">0:00 / 5:30</span>
            </div>
            <button class="download-btn" onclick="downloadAudio('english')">
              <span>üì• Download</span>
            </button>
          </div>
          <audio id="audio-english" preload="metadata">
            <source src="/audio/abu-bakr-en.mp3" type="audio/mpeg">
            <source src="/audio/abu-bakr-en.ogg" type="audio/ogg">
            Your browser does not support the audio element.
          </audio>
        </div>
        
        <div class="audio-player">
          <div class="audio-header">
            <span class="audio-lang">üéß Arabic Narration</span>
            <span class="audio-duration">6:15</span>
          </div>
          <div class="audio-controls">
            <button class="play-btn" onclick="toggleAudio('arabic')" id="play-btn-ar">
              <span class="play-icon">‚ñ∂Ô∏è</span>
              <span class="play-text">ÿ™ÿ¥ÿ∫ŸäŸÑ</span>
            </button>
            <div class="progress-container">
              <div class="progress-bar" id="progress-ar">
                <div class="progress-fill"></div>
              </div>
              <span class="time-display">0:00 / 6:15</span>
            </div>
            <button class="download-btn" onclick="downloadAudio('arabic')">
              <span>üì• ÿ™ÿ≠ŸÖŸäŸÑ</span>
            </button>
          </div>
          <audio id="audio-arabic" preload="metadata">
            <source src="/audio/abu-bakr-ar.mp3" type="audio/mpeg">
            <source src="/audio/abu-bakr-ar.ogg" type="audio/ogg">
            Your browser does not support the audio element.
          </audio>
        </div>
      </div>
      <p class="audio-note">
        <span id="audio-note-text">üéµ Audio narrations help children learn pronunciation and enjoy the stories better!</span>
      </p>
    </div>
    
    <h3 id="birth-title">Birth and Early Life</h3>
    <p id="birth-text">
      Abu Bakr Abdullah ibn Uthman was born in 573 CE in Mecca. He belonged to the Banu Taym clan of the Quraysh tribe. 
      Known for his honesty and integrity from a young age, he earned the title "As-Siddiq" (The Truthful). He was a 
      successful merchant and became one of the closest companions of Prophet Muhammad (peace be upon him), being the 
      first adult male to accept Islam after the Prophet received revelation.
    </p>
    
    <h3 id="islam-title">Embracing Islam</h3>
    <p id="islam-text">
      Abu Bakr's acceptance of Islam was pivotal for the early Muslim community. He immediately believed in the Prophet's 
      message without hesitation, becoming the first adult male to embrace Islam. He used his wealth and influence to 
      support the Prophet and the early Muslims, purchasing and freeing slaves like Bilal ibn Rabah who were being 
      persecuted for their faith.
    </p>
    
    <h3 id="contributions-title">Contributions to Islam</h3>
    <p id="contributions-text">
      Abu Bakr accompanied the Prophet on the Hijrah (migration) to Medina, serving as his companion in the cave during 
      their escape from Mecca. He led prayers during the Prophet's final illness and was chosen as the first Caliph after 
      the Prophet's death. His caliphate (632-634 CE) was marked by the compilation of the Quran into a single book and 
      the successful Ridda Wars that preserved the unity of the Muslim state. He was known for his wisdom, justice, and 
      deep understanding of Islamic principles.
    </p>
    
    <h3 id="death-title">Passing</h3>
    <p id="death-text">
      Abu Bakr passed away on 23 August 634 CE (22 Jumada al-Thani 13 AH) in Medina at the age of 61. Before his death, 
      he appointed Umar ibn al-Khattab as his successor, ensuring a smooth transition of leadership. He was buried next to 
      the Prophet Muhammad in the Prophet's Mosque in Medina. His legacy as the first Caliph and his role in preserving 
      Islam during its critical early years continues to be remembered and honored by Muslims worldwide.
    </p>
    
    <a href="/public/" id="back-link">‚Üê Back to Stories</a>
  </div>

  <script>
    const content = {
      en: {
        title: "Abu Bakr As-Siddiq",
        subtitle: "The Truthful - The First Caliph",
        sectionTitle: "The Life of Abu Bakr As-Siddiq",
        birth: {
          title: "Birth and Early Life",
          text: "Abu Bakr Abdullah ibn Uthman was born in 573 CE in Mecca. He belonged to the Banu Taym clan of the Quraysh tribe. Known for his honesty and integrity from a young age, he earned the title 'As-Siddiq' (The Truthful). He was a successful merchant and became one of the closest companions of Prophet Muhammad (peace be upon him), being the first adult male to accept Islam after the Prophet received revelation."
        },
        islam: {
          title: "Embracing Islam",
          text: "Abu Bakr's acceptance of Islam was pivotal for the early Muslim community. He immediately believed in the Prophet's message without hesitation, becoming the first adult male to embrace Islam. He used his wealth and influence to support the Prophet and the early Muslims, purchasing and freeing slaves like Bilal ibn Rabah who were being persecuted for their faith."
        },
        contributions: {
          title: "Contributions to Islam",
          text: "Abu Bakr accompanied the Prophet on the Hijrah (migration) to Medina, serving as his companion in the cave during their escape from Mecca. He led prayers during the Prophet's final illness and was chosen as the first Caliph after the Prophet's death. His caliphate (632-634 CE) was marked by the compilation of the Quran into a single book and the successful Ridda Wars that preserved the unity of the Muslim state. He was known for his wisdom, justice, and deep understanding of Islamic principles."
        },
        death: {
          title: "Passing",
          text: "Abu Bakr passed away on 23 August 634 CE (22 Jumada al-Thani 13 AH) in Medina at the age of 61. Before his death, he appointed Umar ibn al-Khattab as his successor, ensuring a smooth transition of leadership. He was buried next to the Prophet Muhammad in the Prophet's Mosque in Medina. His legacy as the first Caliph and his role in preserving Islam during its critical early years continues to be remembered and honored by Muslims worldwide."
        },
        backLink: "Back to Stories"
      },
      ar: {
        title: "ÿ£ÿ®Ÿà ÿ®ŸÉÿ± ÿßŸÑÿµÿØŸäŸÇ",
        subtitle: "ÿßŸÑÿµÿØŸäŸÇ - ÿßŸÑÿÆŸÑŸäŸÅÿ© ÿßŸÑÿ±ÿßÿ¥ÿØ ÿßŸÑÿ£ŸàŸÑ",
        sectionTitle: "ÿ≠Ÿäÿßÿ© ÿ£ÿ®Ÿä ÿ®ŸÉÿ± ÿßŸÑÿµÿØŸäŸÇ",
        birth: {
          title: "ÿßŸÑŸÖŸäŸÑÿßÿØ ŸàÿßŸÑÿ∑ŸÅŸàŸÑÿ©",
          text: "ŸàŸèŸÑÿØ ÿ£ÿ®Ÿà ÿ®ŸÉÿ± ÿπÿ®ÿØ ÿßŸÑŸÑŸá ÿ®ŸÜ ÿπÿ´ŸÖÿßŸÜ ÿπÿßŸÖ 573 ŸÖ ŸÅŸä ŸÖŸÉÿ©. ŸÉÿßŸÜ ŸäŸÜÿ™ŸÖŸä ÿ•ŸÑŸâ ŸÇÿ®ŸäŸÑÿ© ÿ®ŸÜŸä ÿ™ŸäŸÖ ŸÖŸÜ ŸÇÿ±Ÿäÿ¥. ÿπŸèÿ±ŸÅ ŸÖŸÜÿ∞ ÿµÿ∫ÿ±Ÿá ÿ®ÿµÿØŸÇŸá Ÿàÿ£ŸÖÿßŸÜÿ™Ÿáÿå ŸÖŸÖÿß ÿ£ŸÉÿ≥ÿ®Ÿá ŸÑŸÇÿ® 'ÿßŸÑÿµÿØŸäŸÇ'. ŸÉÿßŸÜ ÿ™ÿßÿ¨ÿ±ÿßŸã ŸÜÿßÿ¨ÿ≠ÿßŸã Ÿàÿ£ÿµÿ®ÿ≠ ŸÖŸÜ ÿ£ŸÇÿ±ÿ® ÿ£ÿµÿ≠ÿßÿ® ÿßŸÑŸÜÿ®Ÿä ŸÖÿ≠ŸÖÿØ Ô∑∫ÿå ŸàŸÉÿßŸÜ ÿ£ŸàŸÑ ÿ±ÿ¨ŸÑ ÿ®ÿßŸÑÿ∫ Ÿäÿ≥ŸÑŸÖ ÿ®ÿπÿØ ÿ£ŸÜ ÿ™ŸÑŸÇŸâ ÿßŸÑŸÜÿ®Ÿä ÿßŸÑŸàÿ≠Ÿä."
        },
        islam: {
          title: "ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖ",
          text: "ŸÉÿßŸÜ ÿ•ÿ≥ŸÑÿßŸÖ ÿ£ÿ®Ÿä ÿ®ŸÉÿ± ŸÖÿ≠Ÿàÿ±ŸäÿßŸã ŸÑŸÑŸÖÿ¨ÿ™ŸÖÿπ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸä ÿßŸÑŸÖÿ®ŸÉÿ±. ÿ¢ŸÖŸÜ ÿ®ÿ±ÿ≥ÿßŸÑÿ© ÿßŸÑŸÜÿ®Ÿä ŸÅŸàÿ±ÿßŸã ÿØŸàŸÜ ÿ™ÿ±ÿØÿØÿå ŸÑŸäÿµÿ®ÿ≠ ÿ£ŸàŸÑ ÿ±ÿ¨ŸÑ ÿ®ÿßŸÑÿ∫ Ÿäÿ≥ŸÑŸÖ. ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ´ÿ±Ÿàÿ™Ÿá ŸàŸÜŸÅŸàÿ∞Ÿá ŸÑÿØÿπŸÖ ÿßŸÑŸÜÿ®Ÿä ŸàÿßŸÑŸÖÿ≥ŸÑŸÖŸäŸÜ ÿßŸÑÿ£Ÿàÿßÿ¶ŸÑÿå Ÿàÿßÿ¥ÿ™ÿ±Ÿâ Ÿàÿ£ÿπÿ™ŸÇ ÿßŸÑÿπÿ®ŸäÿØ ŸÖÿ´ŸÑ ÿ®ŸÑÿßŸÑ ÿ®ŸÜ ÿ±ÿ®ÿßÿ≠ ÿßŸÑÿ∞ŸäŸÜ ŸÉÿßŸÜŸàÿß ŸäŸèÿ∂ÿ∑ŸáÿØŸàŸÜ ÿ®ÿ≥ÿ®ÿ® ÿ•ŸäŸÖÿßŸÜŸáŸÖ."
        },
        contributions: {
          title: "ÿ•ÿ≥ŸáÿßŸÖÿßÿ™Ÿá ŸÅŸä ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖ",
          text: "ÿ±ÿßŸÅŸÇ ÿ£ÿ®Ÿà ÿ®ŸÉÿ± ÿßŸÑŸÜÿ®Ÿä ŸÅŸä ÿßŸÑŸáÿ¨ÿ±ÿ© ÿ•ŸÑŸâ ÿßŸÑŸÖÿØŸäŸÜÿ©ÿå ŸàŸÉÿßŸÜ ÿµÿßÿ≠ÿ®Ÿá ŸÅŸä ÿßŸÑÿ∫ÿßÿ± ÿ£ÿ´ŸÜÿßÿ° Ÿáÿ±Ÿàÿ®ŸáŸÖÿß ŸÖŸÜ ŸÖŸÉÿ©. ŸÇÿßÿØ ÿßŸÑÿµŸÑÿßÿ© ŸÅŸä ŸÖÿ±ÿ∂ ÿßŸÑŸÜÿ®Ÿä ÿßŸÑÿ£ÿÆŸäÿ±ÿå Ÿàÿ™ŸÖ ÿßÿÆÿ™Ÿäÿßÿ±Ÿá ÿ£ŸàŸÑ ÿÆŸÑŸäŸÅÿ© ÿ®ÿπÿØ ŸàŸÅÿßÿ© ÿßŸÑŸÜÿ®Ÿä. ÿ™ŸÖŸäÿ≤ÿ™ ÿÆŸÑÿßŸÅÿ™Ÿá (632-634 ŸÖ) ÿ®ÿ¨ŸÖÿπ ÿßŸÑŸÇÿ±ÿ¢ŸÜ ŸÅŸä ŸÖÿµÿ≠ŸÅ Ÿàÿßÿ≠ÿØ ŸàÿßŸÑÿ≠ÿ±Ÿàÿ® ÿßŸÑÿ±ÿØÿ© ÿßŸÑŸÜÿßÿ¨ÿ≠ÿ© ÿßŸÑÿ™Ÿä ÿ≠ÿßŸÅÿ∏ÿ™ ÿπŸÑŸâ Ÿàÿ≠ÿØÿ© ÿßŸÑÿØŸàŸÑÿ© ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖŸäÿ©. ÿπŸèÿ±ŸÅ ÿ®ÿ≠ŸÉŸÖÿ™Ÿá ŸàÿπÿØÿßŸÑÿ™Ÿá ŸàŸÅŸáŸÖŸá ÿßŸÑÿπŸÖŸäŸÇ ŸÑŸÖÿ®ÿßÿØÿ¶ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖ."
        },
        death: {
          title: "ÿßŸÑŸàŸÅÿßÿ©",
          text: "ÿ™ŸàŸÅŸä ÿ£ÿ®Ÿà ÿ®ŸÉÿ± ŸÅŸä 23 ÿ£ÿ∫ÿ≥ÿ∑ÿ≥ 634 ŸÖ (22 ÿ¨ŸÖÿßÿØŸâ ÿßŸÑÿ¢ÿÆÿ±ÿ© 13 ŸáŸÄ) ŸÅŸä ÿßŸÑŸÖÿØŸäŸÜÿ© ÿπŸÜ ÿπŸÖÿ± 61 ÿ≥ŸÜÿ©. ŸÇÿ®ŸÑ ŸàŸÅÿßÿ™Ÿáÿå ÿπŸäŸëŸÜ ÿπŸÖÿ± ÿ®ŸÜ ÿßŸÑÿÆÿ∑ÿßÿ® ÿÆŸÑŸÅÿßŸã ŸÑŸáÿå ŸÖŸÖÿß ÿ£ÿ∂ŸÖŸÜ ÿßŸÜÿ™ŸÇÿßŸÑÿßŸã ÿ≥ŸÑÿ≥ÿßŸã ŸÑŸÑŸÇŸäÿßÿØÿ©. ÿØŸèŸÅŸÜ ÿ®ÿ¨ÿßŸÜÿ® ÿßŸÑŸÜÿ®Ÿä ŸÖÿ≠ŸÖÿØ Ô∑∫ ŸÅŸä ÿßŸÑŸÖÿ≥ÿ¨ÿØ ÿßŸÑŸÜÿ®ŸàŸä ÿ®ÿßŸÑŸÖÿØŸäŸÜÿ©. ÿ•ÿ±ÿ´Ÿá ŸÉÿ£ŸàŸÑ ÿÆŸÑŸäŸÅÿ© ŸàÿØŸàÿ±Ÿá ŸÅŸä ÿßŸÑÿ≠ŸÅÿßÿ∏ ÿπŸÑŸâ ÿßŸÑÿ•ÿ≥ŸÑÿßŸÖ ŸÅŸä ÿ≥ŸÜŸàÿßÿ™Ÿá ÿßŸÑÿ≠ÿ±ÿ¨ÿ© ÿßŸÑÿ£ŸàŸÑŸâ ŸäŸàÿßÿµŸÑ ÿ£ŸÜ ŸäŸèÿ∞ŸÉÿ± ŸàŸäŸèŸÉÿ±ŸÖ ŸÖŸÜ ŸÇÿ®ŸÑ ÿßŸÑŸÖÿ≥ŸÑŸÖŸäŸÜ ŸÅŸä ÿ¨ŸÖŸäÿπ ÿ£ŸÜÿ≠ÿßÿ° ÿßŸÑÿπÿßŸÑŸÖ."
        },
        backLink: "ÿßŸÑÿπŸàÿØÿ© ÿ•ŸÑŸâ ÿßŸÑŸÇÿµÿµ"
      }
    };

    function toggleLanguage() {
      const currentLang = document.documentElement.lang;
      const newLang = currentLang === "en" ? "ar" : "en";
      document.documentElement.lang = newLang;
      document.body.dir = newLang === "ar" ? "rtl" : "ltr";

      const langContent = content[newLang];
      document.getElementById("title").textContent = langContent.title;
      document.getElementById("subtitle").textContent = langContent.subtitle;
      document.getElementById("section-title").textContent = langContent.sectionTitle;
      document.getElementById("birth-title").textContent = langContent.birth.title;
      document.getElementById("birth-text").textContent = langContent.birth.text;
      document.getElementById("islam-title").textContent = langContent.islam.title;
      document.getElementById("islam-text").textContent = langContent.islam.text;
      document.getElementById("contributions-title").textContent = langContent.contributions.title;
      document.getElementById("contributions-text").textContent = langContent.contributions.text;
      document.getElementById("death-title").textContent = langContent.death.title;
      document.getElementById("death-text").textContent = langContent.death.text;
      document.getElementById("back-link").textContent = newLang === "ar" ? "‚Üí " + langContent.backLink : "‚Üê " + langContent.backLink;
      
      // Update audio section text
      const audioTitles = {
        en: "Listen to the Story",
        ar: "ÿßÿ≥ÿ™ŸÖÿπ ÿ•ŸÑŸâ ÿßŸÑŸÇÿµÿ©"
      };
      const audioNotes = {
        en: "üéµ Audio narrations help children learn pronunciation and enjoy the stories better!",
        ar: "üéµ ÿßŸÑÿ≥ÿ±ÿØ ÿßŸÑÿµŸàÿ™Ÿä Ÿäÿ≥ÿßÿπÿØ ÿßŸÑÿ£ÿ∑ŸÅÿßŸÑ ÿπŸÑŸâ ÿ™ÿπŸÑŸÖ ÿßŸÑŸÜÿ∑ŸÇ ŸàÿßŸÑÿßÿ≥ÿ™ŸÖÿ™ÿßÿπ ÿ®ÿßŸÑŸÇÿµÿµ ÿ®ÿ¥ŸÉŸÑ ÿ£ŸÅÿ∂ŸÑ!"
      };
      
      document.getElementById("audio-title").textContent = audioTitles[newLang];
      document.getElementById("audio-note-text").textContent = audioNotes[newLang];
    }

    // Audio Player Functionality
    let currentAudio = null;
    let currentLang = null;

    function toggleAudio(lang) {
      const audio = document.getElementById(`audio-${lang}`);
      const playBtn = document.getElementById(`play-btn-${lang === 'english' ? 'en' : 'ar'}`);
      const playIcon = playBtn.querySelector('.play-icon');
      const playText = playBtn.querySelector('.play-text');

      // Stop other audio if playing
      if (currentAudio && currentAudio !== audio) {
        currentAudio.pause();
        currentAudio.currentTime = 0;
        updatePlayButton(currentLang, false);
      }

      if (audio.paused) {
        // Check if audio file exists (for demo purposes, we'll simulate)
        if (audio.src.includes('abu-bakr')) {
          // In a real implementation, you'd have actual audio files
          alert(`Audio narration in ${lang === 'english' ? 'English' : 'Arabic'} would play here.\n\nTo implement:\n1. Record professional narrations\n2. Upload audio files to /audio/ folder\n3. Update src paths in HTML`);
          return;
        }
        
        audio.play();
        currentAudio = audio;
        currentLang = lang;
        updatePlayButton(lang, true);
      } else {
        audio.pause();
        updatePlayButton(lang, false);
        currentAudio = null;
        currentLang = null;
      }
    }

    function updatePlayButton(lang, isPlaying) {
      const playBtn = document.getElementById(`play-btn-${lang === 'english' ? 'en' : 'ar'}`);
      const playIcon = playBtn.querySelector('.play-icon');
      const playText = playBtn.querySelector('.play-text');
      
      if (isPlaying) {
        playIcon.textContent = '‚è∏Ô∏è';
        playText.textContent = lang === 'english' ? 'Pause' : 'ÿ•ŸäŸÇÿßŸÅ';
        playBtn.classList.add('playing');
      } else {
        playIcon.textContent = '‚ñ∂Ô∏è';
        playText.textContent = lang === 'english' ? 'Play' : 'ÿ™ÿ¥ÿ∫ŸäŸÑ';
        playBtn.classList.remove('playing');
      }
    }

    function downloadAudio(lang) {
      // In a real implementation, this would download the actual audio file
      alert(`Download ${lang === 'english' ? 'English' : 'Arabic'} audio narration.\n\nTo implement:\n1. Add actual audio files\n2. Create download links\n3. Handle file serving`);
    }

    // Initialize audio players when page loads
    document.addEventListener('DOMContentLoaded', function() {
      const audioElements = document.querySelectorAll('audio');
      audioElements.forEach(audio => {
        audio.addEventListener('ended', function() {
          const lang = audio.id.includes('english') ? 'english' : 'arabic';
          updatePlayButton(lang, false);
          currentAudio = null;
          currentLang = null;
        });

        audio.addEventListener('timeupdate', function() {
          const lang = audio.id.includes('english') ? 'en' : 'ar';
          const progressFill = document.querySelector(`#progress-${lang} .progress-fill`);
          const timeDisplay = document.querySelector(`#progress-${lang}`).parentNode.querySelector('.time-display');
          
          if (audio.duration) {
            const progress = (audio.currentTime / audio.duration) * 100;
            progressFill.style.width = progress + '%';
            
            const currentMin = Math.floor(audio.currentTime / 60);
            const currentSec = Math.floor(audio.currentTime % 60);
            const totalMin = Math.floor(audio.duration / 60);
            const totalSec = Math.floor(audio.duration % 60);
            
            timeDisplay.textContent = `${currentMin}:${currentSec.toString().padStart(2, '0')} / ${totalMin}:${totalSec.toString().padStart(2, '0')}`;
          }
        });
      });
    });
    }
  </script>
</body>
</html>
